import{r as t,R as o,a as Fe,b as ze,c as et}from"./vendor-BL59bgv0.js";import{G as tt,_ as se,M as st,C as Ee,A as ie,H as De,a as rt,b as nt,g as ot,R as _e,c as L,d as at,T as lt,e as ct,f as xe,B as it,V as ut,P as dt,h as be,i as Ne,j as pt,k as mt}from"./ag-grid-community-CKfuWc13.js";var Ct=Object.defineProperty,ht=Object.defineProperties,ft=Object.getOwnPropertyDescriptors,We=Object.getOwnPropertySymbols,gt=Object.prototype.hasOwnProperty,Rt=Object.prototype.propertyIsEnumerable,He=(e,s,r)=>s in e?Ct(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,U=(e,s)=>{for(var r in s||(s={}))gt.call(s,r)&&He(e,r,s[r]);if(We)for(var r of We(s))Rt.call(s,r)&&He(e,r,s[r]);return e},X=(e,s)=>ht(e,ft(s)),Ie=t.createContext({setMethods:()=>{}}),vt=e=>{const{initialProps:s,addUpdateCallback:r,CustomComponentClass:n,setMethods:a}=e,[c,u]=t.useState(s);return t.useEffect(()=>{r(l=>u(l))},[]),o.createElement(Ie.Provider,{value:{setMethods:a}},o.createElement(n,U({},c)))},yt=t.memo(vt),wt=0;function Le(){return`agPortalKey_${++wt}`}var $e=class{constructor(e,s,r,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=s,this.componentType=r,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=Le(),this.portalKey=Le(),this.instanceCreated=this.isStatelessComponent()?ie.resolve(!1):new ie(a=>{this.resolveInstanceCreated=a})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){return this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)}createParentElement(e){const s=this.portalManager.getComponentWrappingElement(),r=document.createElement(s||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(se.warnOnce('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&(se.warnOnce('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(s=>this.eParentElement.classList.add(s))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const s=this.getFrameworkComponentInstance();return!!s&&s[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,s){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,s&&s[0]?s[0]:{});if(!r){setTimeout(()=>this.callMethod(e,s));return}const n=r[e];if(n)return n.apply(r,s);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,s&&s[0]?s[0]:{})}addMethod(e,s){this[e]=s}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new ie(s=>this.createReactComponent(s))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=s=>{var r;this.componentInstance=s,this.addParentContainerStyleAndClasses(),(r=this.resolveInstanceCreated)==null||r.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,X(U({},e),{key:this.key})),this.portal=ze.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,s){return t.createElement(e,s)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,s=>{e(s)})}isNullValue(){return this.valueRenderedIsNull(this.params)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}valueRenderedIsNull(e){if(!this.componentType.cellRenderer)return!1;const s=console.error;try{return console.error=()=>{},et(t.createElement(this.reactComponent,e))===""}catch{}finally{console.error=s}return!1}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,s){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(s)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function ke(e,s,r){e.forEach(n=>{const a=s[n];a&&(r[n]=a)})}var de=class extends $e{constructor(){super(...arguments),this.awaitUpdateCallback=new ie(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=yt}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,s){return super.createElement(this.wrapperComponent,{initialProps:s,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new ie(n=>{setTimeout(()=>{n()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,ke(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return X(U({},this.sourceParams),{key:this.key,ref:this.ref})}refreshProps(){return this.updateCallback?this.updateCallback():new ie(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},Et=class extends de{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},St=class extends de{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback()}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.model=e,this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};function Ye(e,s){e.parentFilterInstance(r=>{(r.setModel(s)||ie.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var Pt=class{constructor(e,s){this.floatingFilterParams=e,this.refreshProps=s,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return X(U({},this.floatingFilterParams),{model:this.model,onModelChange:this.onModelChange})}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){ke(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Ye(this.floatingFilterParams,e)}},bt=class extends de{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Ye(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},Mt=class extends de{refresh(e){this.sourceParams=e,this.refreshProps()}},Ft=class extends de{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const s=this.awaitSetActive(e);e&&s.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},It=class extends de{refresh(e){this.sourceParams=e,this.refreshProps()}},kt=class extends de{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Ot=class extends de{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}},Je=class Ze{constructor(s,r,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=r||"div",this.refresher=s,this.maxComponentCreationTimeMs=n||Ze.MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(s){this.portals=this.portals.filter(r=>r!==s),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(s,r,n){this.portals=[...this.portals,s],this.waitForInstance(r,n),this.batchUpdate()}updateReactPortal(s,r){this.portals[this.portals.indexOf(s)]=r,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(s,r,n=Date.now()){if(this.destroyed){r(null);return}if(s.rendered())r(s);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){if(s.isNullValue()){r(s);return}console.error(`AG Grid: React Component '${s.getReactComponentName()}' not created within ${this.maxComponentCreationTimeMs}ms.`),console.error("    If the component is using `forwardRef` but not `useImperativeHandle`, add the following: `useImperativeHandle(ref, () => ({}));`");return}window.setTimeout(()=>{this.waitForInstance(s,r,n)})}}};Je.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3;var Tt=Je,Q=o.createContext({}),oe=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),te=class qe{constructor(...s){this.classesMap={},s.forEach(r=>{this.classesMap[r]=!0})}setClass(s,r){if(!!this.classesMap[s]==r)return this;const a=new qe;return a.classesMap=U({},this.classesMap),a.classesMap[s]=r,a}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},fe=e=>{const s=()=>typeof Symbol=="function"&&Symbol.for,r=()=>s()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},Gt=Fe.createRoot!=null&&Fe.flushSync!=null,we=!1;function At(e){return we||setTimeout(()=>we=!1,0),we=!0,e()}var Oe=(e,s)=>{Gt&&e&&!we?Fe.flushSync(s):s()};function Te(e,s,r){if(s==null||e==null)return s;if(e===s||s.length===0&&e.length===0)return e;if(r||e.length===0&&s.length>0||e.length>0&&s.length===0)return s;const n=[],a=[],c=new Map,u=new Map;for(let l=0;l<s.length;l++){const i=s[l];u.set(i.getInstanceId(),i)}for(let l=0;l<e.length;l++){const i=e[l];c.set(i.getInstanceId(),i),u.has(i.getInstanceId())&&n.push(i)}for(let l=0;l<s.length;l++){const i=s[l],m=i.getInstanceId();c.has(m)||a.push(i)}return n.length===e.length&&a.length===0?e:n.length===0&&a.length===s.length?s:n.length===0?a:a.length===0?n:[...n,...a]}var ve=(e,s,r,n)=>{if(!e||e.componentFromFramework||s.isDestroyed())return;const c=e.newAgStackInstance();if(!c)return;let u,l,i=!1;return c.then(m=>{if(i){s.destroyBean(m);return}u=m,l=u.getGui(),r.appendChild(l),Ue(n,u)}),()=>{i=!0,u&&(l&&l.parentElement&&l.parentElement.removeChild(l),s.destroyBean(u),n&&Ue(n,void 0))}},Ue=(e,s)=>{if(e)if(e instanceof Function)e(s);else{const r=e;r.current=s}},Bt=e=>{const s=e.newAgStackInstance();if(s)return s.resolveNow(null,r=>r)},Xe=t.forwardRef((e,s)=>{var r;const n=t.useContext(Q).context,a=t.useRef(null),c=t.useRef(null),u=t.useRef(null),l=t.useRef(null),i=t.useRef(null),m=t.useRef(),[d,p]=t.useState(),[R,S]=t.useState(),[y,g]=t.useState(),[C,h]=t.useState(()=>new te),[f,b]=t.useState(()=>new te("ag-hidden")),[w,P]=t.useState(()=>new te("ag-hidden")),[B,E]=t.useState(()=>new te("ag-invisible"));t.useImperativeHandle(s,()=>({refresh(){return!1}})),t.useLayoutEffect(()=>ve(d,n,c.current),[d]);const W=t.useCallback(_=>{if(a.current=_,!a.current){n.destroyBean(m.current),m.current=null;return}const D={setInnerRenderer:(F,T)=>{p(F),g(T)},setChildCount:F=>S(F),addOrRemoveCssClass:(F,T)=>h(K=>K.setClass(F,T)),setContractedDisplayed:F=>P(T=>T.setClass("ag-hidden",!F)),setExpandedDisplayed:F=>b(T=>T.setClass("ag-hidden",!F)),setCheckboxVisible:F=>E(T=>T.setClass("ag-invisible",!F))};m.current=n.createBean(new tt),m.current.init(D,a.current,u.current,l.current,i.current,Xe,e)},[]),v=t.useMemo(()=>`ag-cell-wrapper ${C.toString()}`,[C]),I=t.useMemo(()=>`ag-group-expanded ${f.toString()}`,[f]),k=t.useMemo(()=>`ag-group-contracted ${w.toString()}`,[w]),O=t.useMemo(()=>`ag-group-checkbox ${B.toString()}`,[B]),M=d&&d.componentFromFramework,V=M?d.componentClass:void 0,H=d==null&&y!=null,j=se.escapeString(y,!0);return o.createElement("span",U({className:v,ref:W},e.colDef?{}:{role:(r=m.current)==null?void 0:r.getCellAriaRole()}),o.createElement("span",{className:I,ref:l}),o.createElement("span",{className:k,ref:i}),o.createElement("span",{className:O,ref:u}),o.createElement("span",{className:"ag-group-value",ref:c},H&&o.createElement(o.Fragment,null,j),M&&o.createElement(V,U({},d.params))),o.createElement("span",{className:"ag-group-child-count"},R))}),Ve=Xe,Dt=e=>{const{ctrl:s}=e,r=s.isAlive(),{context:n}=t.useContext(Q),a=r?s.getColId():void 0,[c,u]=t.useState(),l=t.useRef(null),i=t.useRef(null),m=t.useRef(null),d=t.useRef();let p=t.useRef();r&&!p.current&&(p.current=new Ee(()=>l.current));const R=t.useCallback(C=>{var h;if(l.current=C,!l.current||!r)return;const f={setWidth:w=>{l.current&&(l.current.style.width=w)},addOrRemoveCssClass:(w,P)=>p.current.addOrRemoveCssClass(w,P),setAriaSort:w=>{l.current&&(w?se.setAriaSort(l.current,w):se.removeAriaSort(l.current))},setUserCompDetails:w=>u(w),getUserCompInstance:()=>d.current||void 0};s.setComp(f,l.current,i.current,m.current);const b=s.getSelectAllGui();(h=i.current)==null||h.insertAdjacentElement("afterend",b)},[]);t.useLayoutEffect(()=>ve(c,n,m.current,d),[c]),t.useEffect(()=>{s.setDragSource(l.current)},[c]);const S=t.useMemo(()=>!!((c==null?void 0:c.componentFromFramework)&&fe(c.componentClass)),[c]),y=c&&c.componentFromFramework,g=c&&c.componentClass;return o.createElement("div",{ref:R,className:"ag-header-cell","col-id":a,role:"columnheader"},o.createElement("div",{ref:i,className:"ag-header-cell-resize",role:"presentation"}),o.createElement("div",{ref:m,className:"ag-header-cell-comp-wrapper",role:"presentation"},y&&S&&o.createElement(g,U({},c.params)),y&&!S&&o.createElement(g,X(U({},c.params),{ref:d}))))},_t=t.memo(Dt),xt=e=>{const{context:s}=t.useContext(Q),{ctrl:r}=e,[n,a]=t.useState(()=>new te),[c,u]=t.useState(()=>new te),[l,i]=t.useState("false"),[m,d]=t.useState(),[p,R]=t.useState(),S=t.useMemo(()=>r.getColId(),[]),y=t.useRef(null),g=t.useRef(null),C=t.useRef(),h=t.useCallback(E=>{if(y.current=E,!y.current)return;const W={setWidth:v=>{y.current&&(y.current.style.width=v)},addOrRemoveCssClass:(v,I)=>a(k=>k.setClass(v,I)),setUserCompDetails:v=>R(v),setResizableDisplayed:v=>{u(I=>I.setClass("ag-hidden",!v)),i(v?"false":"true")},setAriaExpanded:v=>d(v),getUserCompInstance:()=>C.current||void 0};r.setComp(W,y.current,g.current)},[]);t.useLayoutEffect(()=>ve(p,s,y.current),[p]),t.useEffect(()=>{y.current&&r.setDragSource(y.current)},[p]);const f=t.useMemo(()=>!!((p==null?void 0:p.componentFromFramework)&&fe(p.componentClass)),[p]),b=t.useMemo(()=>"ag-header-group-cell "+n.toString(),[n]),w=t.useMemo(()=>"ag-header-cell-resize "+c.toString(),[c]),P=p&&p.componentFromFramework,B=p&&p.componentClass;return o.createElement("div",{ref:h,className:b,"col-id":S,role:"columnheader","aria-expanded":m},P&&f&&o.createElement(B,U({},p.params)),P&&!f&&o.createElement(B,X(U({},p.params),{ref:C})),o.createElement("div",{ref:g,"aria-hidden":l,className:w}))},Nt=t.memo(xt);function Ge(){se.warnOnce("Using custom components without `reactiveCustomComponents = true` is deprecated.")}var Wt=e=>{const{context:s,gos:r}=t.useContext(Q),[n,a]=t.useState(()=>new te("ag-header-cell","ag-floating-filter")),[c,u]=t.useState(()=>new te),[l,i]=t.useState(()=>new te("ag-floating-filter-button","ag-hidden")),[m,d]=t.useState("false"),[p,R]=t.useState(),[S,y]=t.useState(1),g=t.useRef(null),C=t.useRef(null),h=t.useRef(null),f=t.useRef(null),b=t.useRef(),w=t.useRef(),P=_=>{_!=null&&b.current&&b.current(_)},{ctrl:B}=e,E=t.useCallback(_=>{if(g.current=_,!g.current)return;w.current=new ie(F=>{b.current=F});const D={addOrRemoveCssClass:(F,T)=>a(K=>K.setClass(F,T)),addOrRemoveBodyCssClass:(F,T)=>u(K=>K.setClass(F,T)),setButtonWrapperDisplayed:F=>{i(T=>T.setClass("ag-hidden",!F)),d(F?"false":"true")},setWidth:F=>{g.current&&(g.current.style.width=F)},setCompDetails:F=>R(F),getFloatingFilterComp:()=>w.current?w.current:null,setMenuIcon:F=>{var T;return(T=f.current)==null?void 0:T.appendChild(F)}};B.setComp(D,g.current,f.current,C.current)},[]);t.useLayoutEffect(()=>ve(p,s,C.current,P),[p]);const W=t.useMemo(()=>n.toString(),[n]),v=t.useMemo(()=>c.toString(),[c]),I=t.useMemo(()=>l.toString(),[l]),k=t.useMemo(()=>!!(p&&p.componentFromFramework&&fe(p.componentClass)),[p]),O=t.useMemo(()=>r.get("reactiveCustomComponents"),[]),M=t.useMemo(()=>{if(p)if(O){const _=new Pt(p.params,()=>y(D=>D+1));return P(_),_}else p.componentFromFramework&&Ge()},[p]),V=M==null?void 0:M.getProps(),H=p&&p.componentFromFramework,j=p&&p.componentClass;return o.createElement("div",{ref:E,className:W,role:"gridcell"},o.createElement("div",{ref:C,className:v,role:"presentation"},H&&!O&&o.createElement(j,X(U({},p.params),{ref:k?()=>{}:P})),H&&O&&o.createElement(Ie.Provider,{value:{setMethods:_=>M.setMethods(_)}},o.createElement(j,U({},V)))),o.createElement("div",{ref:h,"aria-hidden":m,className:I,role:"presentation"},o.createElement("button",{ref:f,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},Ht=t.memo(Wt),Lt=e=>{const{ctrl:s}=e,{topOffset:r,rowHeight:n}=t.useMemo(()=>s.getTopAndHeight(),[]),a=s.getAriaRowIndex(),c=s.getHeaderRowClass(),[u,l]=t.useState(()=>n+"px"),[i,m]=t.useState(()=>r+"px"),d=t.useRef(null),p=t.useRef(null),[R,S]=t.useState(()=>s.getHeaderCtrls()),y=t.useRef(null),g=t.useCallback(f=>{if(y.current=f,!f)return;const b={setHeight:w=>l(w),setTop:w=>m(w),setHeaderCtrls:(w,P,B)=>{p.current=d.current,d.current=w;const E=Te(p.current,w,P);E!==p.current&&Oe(B,()=>S(E))},setWidth:w=>{y.current&&(y.current.style.width=w)}};s.setComp(b,!1)},[]),C=t.useMemo(()=>({height:u,top:i}),[u,i]),h=t.useCallback(f=>{switch(s.getType()){case De.COLUMN_GROUP:return o.createElement(Nt,{ctrl:f,key:f.getInstanceId()});case De.FLOATING_FILTER:return o.createElement(Ht,{ctrl:f,key:f.getInstanceId()});default:return o.createElement(_t,{ctrl:f,key:f.getInstanceId()})}},[]);return o.createElement("div",{ref:g,className:c,role:"row",style:C,"aria-rowindex":a},R.map(h))},Ut=t.memo(Lt),Vt=e=>{const[s,r]=t.useState(!0),[n,a]=t.useState([]),{context:c}=t.useContext(Q),u=t.useRef(null),l=t.useRef(null),i=t.useRef(null),m=e.pinned==="left",d=e.pinned==="right",p=!m&&!d,R=t.useCallback(g=>{if(u.current=g,!u.current){c.destroyBean(i.current),i.current=null;return}const C={setDisplayed:r,setCtrls:h=>a(h),setCenterWidth:h=>{l.current&&(l.current.style.width=h)},setViewportScrollLeft:h=>{u.current&&(u.current.scrollLeft=h)},setPinnedContainerWidth:h=>{u.current&&(u.current.style.width=h,u.current.style.minWidth=h,u.current.style.maxWidth=h)}};i.current=c.createBean(new rt(e.pinned)),i.current.setComp(C,u.current)},[]),S=s?"":"ag-hidden",y=()=>n.map(g=>o.createElement(Ut,{ctrl:g,key:g.getInstanceId()}));return o.createElement(o.Fragment,null,m&&o.createElement("div",{ref:R,className:"ag-pinned-left-header "+S,"aria-hidden":!s,role:"rowgroup"},y()),d&&o.createElement("div",{ref:R,className:"ag-pinned-right-header "+S,"aria-hidden":!s,role:"rowgroup"},y()),p&&o.createElement("div",{ref:R,className:"ag-header-viewport "+S,role:"presentation"},o.createElement("div",{ref:l,className:"ag-header-container",role:"rowgroup"},y())))},Me=t.memo(Vt),jt=()=>{const[e,s]=t.useState(()=>new te),[r,n]=t.useState(),{context:a}=t.useContext(Q),c=t.useRef(null),u=t.useRef(null),l=t.useCallback(d=>{if(c.current=d,!d){a.destroyBean(u.current),u.current=null;return}const p={addOrRemoveCssClass:(R,S)=>s(y=>y.setClass(R,S)),setHeightAndMinHeight:R=>n(R)};u.current=a.createBean(new nt),u.current.setComp(p,c.current,c.current)},[]),i=t.useMemo(()=>"ag-header "+e.toString(),[e]),m=t.useMemo(()=>({height:r,minHeight:r}),[r]);return o.createElement("div",{ref:l,className:i,style:m,role:"presentation"},o.createElement(Me,{pinned:"left"}),o.createElement(Me,{pinned:null}),o.createElement(Me,{pinned:"right"}))},Kt=t.memo(jt),zt=(e,s)=>{t.useEffect(()=>{const r=s.current;if(r){const n=r.parentElement;if(n){const a=document.createComment(e);return n.insertBefore(a,r),()=>{n.removeChild(a)}}}},[e])},me=zt,$t=e=>{const s=t.useRef(e),r=t.useRef(),n=t.useRef(!1),a=t.useRef(!1),[,c]=t.useState(0);n.current&&(a.current=!0),t.useEffect(()=>(n.current||(r.current=s.current(),n.current=!0),c(u=>u+1),()=>{a.current&&r.current&&r.current()}),[])},Yt=e=>{const[s,r]=t.useState(),{context:n,popupService:a,localeService:c,gos:u}=t.useContext(Q);return $t(()=>{const{editDetails:l,cellCtrl:i,eParentCell:m}=e,{compDetails:d}=l,p=u.get("stopEditingWhenCellsLoseFocus"),R=n.createBean(new dt(d.params)),S=R.getGui();if(e.jsChildComp){const b=e.jsChildComp.getGui();b&&S.appendChild(b)}const y={column:i.getColumn(),rowNode:i.getRowNode(),type:"popupCellEditor",eventSource:m,ePopup:S,position:l.popupPosition,keepWithinBounds:!0},g=a.positionPopupByComponent.bind(a,y),C=c.getLocaleTextFunc(),h=a.addPopup({modal:p,eChild:S,closeOnEsc:!0,closedCallback:()=>{i.onPopupEditorClosed()},anchorToElement:m,positionCallback:g,ariaLabel:C("ariaLabelCellEditor","Cell Editor")}),f=h?h.hideFunc:void 0;return r(R),e.jsChildComp&&e.jsChildComp.afterGuiAttached&&e.jsChildComp.afterGuiAttached(),()=>{f!=null&&f(),n.destroyBean(R)}}),o.createElement(o.Fragment,null,s&&e.wrappedContent&&ze.createPortal(e.wrappedContent,s.getGui()))},je=t.memo(Yt),Jt=(e,s,r,n,a,c)=>{const{context:u}=t.useContext(Q),l=t.useCallback(()=>{const i=a.current;if(!i)return;const m=i.getGui();m&&m.parentElement&&m.parentElement.removeChild(m),u.destroyBean(i),a.current=void 0},[]);t.useEffect(()=>{const i=e!=null,m=e&&e.compDetails&&!e.compDetails.componentFromFramework,d=s&&r==null;if(!(i&&m&&!d)){l();return}const R=e.compDetails;if(a.current){const h=a.current,b=h.refresh!=null&&e.force==!1?h.refresh(R.params):!1;if(b===!0||b===void 0)return;l()}const S=R.newAgStackInstance();if(!S)return;const y=S.resolveNow(null,h=>h);if(!y)return;const g=y.getGui();if(!g)return;(s?r:c.current).appendChild(g),a.current=y},[e,s,n]),t.useEffect(()=>l,[])},Zt=Jt,qt=class{constructor(e,s){this.cellEditorParams=e,this.refreshProps=s,this.instanceCreated=new ie(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return X(U({},this.cellEditorParams),{initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange})}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){ke(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var s;this.componentInstance=e,(s=this.resolveInstanceCreated)==null||s.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},Xt=(e,s,r)=>{const n=r.getColumn();if(!e&&s.isPopup&&s.isPopup()){const a=`AG Grid: Found an issue in column ${n.getColId()}. If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.`;se.doOnce(()=>console.warn(a),"jsEditorComp-isPopup-"+r.getColumn().getColId())}if(e&&s.getPopupPosition&&s.getPopupPosition()!=null){const a=`AG Grid: Found an issue in column ${n.getColId()}. If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.`;se.doOnce(()=>console.warn(a),"jsEditorComp-getPopupPosition-"+r.getColumn().getColId())}},Qt=(e,s,r)=>{const{compProxy:n}=e;r(n);const a=n.getProps(),c=fe(s);return o.createElement(Ie.Provider,{value:{setMethods:u=>n.setMethods(u)}},c&&o.createElement(s,U({},a)),!c&&o.createElement(s,X(U({},a),{ref:u=>n.setRef(u)})))},Ke=(e,s,r)=>{const n=e.compProxy;return o.createElement(o.Fragment,null,!n&&o.createElement(s,X(U({},e.compDetails.params),{ref:r})),n&&Qt(e,s,r))},es=(e,s,r,n,a,c)=>{const u=e.compDetails,l=u.componentClass,i=u.componentFromFramework&&!e.popup,m=u.componentFromFramework&&e.popup,d=!u.componentFromFramework&&e.popup;return o.createElement(o.Fragment,null,i&&Ke(e,l,s),m&&o.createElement(je,{editDetails:e,cellCtrl:a,eParentCell:n,wrappedContent:Ke(e,l,r)}),d&&c&&o.createElement(je,{editDetails:e,cellCtrl:a,eParentCell:n,jsChildComp:c}))},ts=(e,s,r,n,a,c,u)=>{const{compDetails:l,value:i}=e,m=!l,d=l&&l.componentFromFramework,p=l&&l.componentClass,R=i!=null&&i.toString?i.toString():i,S=()=>o.createElement(o.Fragment,null,m&&o.createElement(o.Fragment,null,R),d&&!c&&o.createElement(p,X(U({},l.params),{key:s,ref:n})),d&&c&&o.createElement(p,X(U({},l.params),{key:s})));return o.createElement(o.Fragment,null,a?o.createElement("span",{role:"presentation",id:`cell-${r}`,className:"ag-cell-value",ref:u},S()):S())},ss=e=>{const{context:s}=t.useContext(Q),{cellCtrl:r,printLayout:n,editingRow:a}=e,c=r.getTabIndex(),u=r.getColumnIdSanitised(),l=r.getInstanceId(),[i,m]=t.useState(()=>r.isCellRenderer()?void 0:{compDetails:void 0,value:r.getValueToDisplay(),force:!1}),[d,p]=t.useState(),[R,S]=t.useState(1),[y,g]=t.useState(),[C,h]=t.useState(!1),[f,b]=t.useState(!1),[w,P]=t.useState(!1),[B,E]=t.useState(),W=t.useMemo(()=>r.isForceWrapper(),[r]),v=t.useMemo(()=>r.getCellAriaRole(),[r]),I=t.useRef(null),k=t.useRef(null),O=t.useRef(),M=t.useRef(),V=t.useRef(),H=t.useRef([]),j=t.useRef(),[_,D]=t.useState(0),F=t.useCallback(z=>{j.current=z,D($=>$+1)},[]),T=i!=null&&(C||w||f),K=W||T,G=t.useCallback((z,$)=>{M.current=$,$&&(Xt(z,$,r),$.isCancelBeforeStart&&$.isCancelBeforeStart()&&setTimeout(()=>{r.stopEditing(!0),r.focusCell(!0)}))},[r]),N=t.useCallback(z=>G(!0,z),[G]),ae=t.useCallback(z=>G(!1,z),[G]);let x=t.useRef();x.current||(x.current=new Ee(()=>I.current)),Zt(i,K,j.current,_,O,I);const ee=t.useRef();t.useLayoutEffect(()=>{const z=ee.current,$=i;if(ee.current=i,z==null||z.compDetails==null||$==null||$.compDetails==null)return;const Y=z.compDetails,A=$.compDetails;if(Y.componentClass!=A.componentClass||k.current==null||k.current.refresh==null)return;k.current.refresh(A.params)!=!0&&S(re=>re+1)},[i]),t.useLayoutEffect(()=>{if(!(d&&!d.compDetails.componentFromFramework))return;const $=d.compDetails,Y=d.popup===!0,A=Bt($);if(!A)return;const J=A.getGui();if(G(Y,A),!Y){const re=(W?V:I).current;re==null||re.appendChild(J),A.afterGuiAttached&&A.afterGuiAttached()}return E(A),()=>{s.destroyBean(A),G(Y,void 0),E(void 0),J&&J.parentElement&&J.parentElement.removeChild(J)}},[d]);const q=t.useCallback(z=>{if(V.current=z,!V.current){H.current.forEach(Y=>Y()),H.current=[];return}const $=Y=>{var A;if(Y){const J=Y.getGui();(A=V.current)==null||A.insertAdjacentElement("afterbegin",J),H.current.push(()=>{s.destroyBean(Y),se.removeFromParent(J)})}return Y};if(C){const Y=r.createSelectionCheckbox();$(Y)}w&&$(r.createDndSource()),f&&$(r.createRowDragComp())},[r,s,w,f,C]),ce=t.useCallback(z=>{if(I.current=z,!I.current||!r)return;const $={addOrRemoveCssClass:(A,J)=>x.current.addOrRemoveCssClass(A,J),setUserStyles:A=>g(A),getFocusableElement:()=>I.current,setIncludeSelection:A=>h(A),setIncludeRowDrag:A=>b(A),setIncludeDndSource:A=>P(A),getCellEditor:()=>M.current||null,getCellRenderer:()=>k.current?k.current:O.current,getParentOfValue:()=>j.current?j.current:V.current?V.current:I.current,setRenderDetails:(A,J,re)=>{m(ne=>(ne==null?void 0:ne.compDetails)!==A||(ne==null?void 0:ne.value)!==J||(ne==null?void 0:ne.force)!==re?{value:J,compDetails:A,force:re}:ne)},setEditDetails:(A,J,re,ne)=>{if(A){let pe;ne?pe=new qt(A.params,()=>S(Se=>Se+1)):A.componentFromFramework&&Ge(),p({compDetails:A,popup:J,popupPosition:re,compProxy:pe}),J||m(void 0)}else p(pe=>{pe!=null&&pe.compProxy&&(M.current=void 0)})}},Y=V.current||void 0;r.setComp($,I.current,Y,n,a)},[]),Ce=t.useMemo(()=>!!(i&&i.compDetails&&i.compDetails.componentFromFramework&&fe(i.compDetails.componentClass)),[i]);t.useLayoutEffect(()=>{var z;I.current&&(x.current.addOrRemoveCssClass("ag-cell-value",!K),x.current.addOrRemoveCssClass("ag-cell-inline-editing",!!d&&!d.popup),x.current.addOrRemoveCssClass("ag-cell-popup-editing",!!d&&!!d.popup),x.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!d||!!d.popup),(z=r.getRowCtrl())==null||z.setInlineEditingCss(!!d),r.shouldRestoreFocus()&&!r.isEditing()&&I.current.focus({preventScroll:!0}))});const ye=()=>o.createElement(o.Fragment,null,i!=null&&ts(i,R,l,k,K,Ce,F),d!=null&&es(d,ae,N,I.current,r,B));return o.createElement("div",{ref:ce,style:y,tabIndex:c,role:v,"col-id":u},K?o.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:q},ye()):ye())},rs=t.memo(ss),ns=e=>{const{context:s,gos:r}=t.useContext(Q),{rowCtrl:n,containerType:a}=e,c=n.getTabIndex(),u=t.useRef(n.getDomOrder()),l=n.isFullWidth(),i=n.getRowNode().displayed,[m,d]=t.useState(()=>i?n.getRowIndex():null),[p,R]=t.useState(()=>n.getRowId()),[S,y]=t.useState(()=>n.getBusinessKey()),[g,C]=t.useState(()=>n.getRowStyles()),h=t.useRef(null),f=t.useRef(null),[b,w]=t.useState(()=>null),[P,B]=t.useState(),[E,W]=t.useState(()=>i?n.getInitialRowTop(a):void 0),[v,I]=t.useState(()=>i?n.getInitialTransform(a):void 0),k=t.useRef(null),O=t.useRef(),M=t.useRef(!1),[V,H]=t.useState(0);t.useEffect(()=>{var x;if(M.current||!P||V>10)return;const ee=(x=k.current)==null?void 0:x.firstChild;ee?(n.setupDetailRowAutoHeight(ee),M.current=!0):H(q=>q+1)},[P,V]);let j=t.useRef();j.current||(j.current=new Ee(()=>k.current));const _=t.useCallback(x=>{if(k.current=x,!k.current){n.unsetComp(a);return}if(!n.isAlive())return;const ee={setTop:W,setTransform:I,addOrRemoveCssClass:(q,ce)=>j.current.addOrRemoveCssClass(q,ce),setDomOrder:q=>u.current=q,setRowIndex:d,setRowId:R,setRowBusinessKey:y,setUserStyles:C,setCellCtrls:(q,ce)=>{f.current=h.current,h.current=q;const Ce=Te(f.current,q,u.current);Ce!==f.current&&Oe(ce,()=>w(Ce))},showFullWidth:q=>B(q),getFullWidthCellRenderer:()=>O.current,refreshFullWidth:q=>G.current?(B(ce=>X(U({},ce),{params:q()})),!0):!O.current||!O.current.refresh?!1:O.current.refresh(q())};n.setComp(ee,k.current,a)},[]);t.useLayoutEffect(()=>ve(P,s,k.current,O),[P]);const D=t.useMemo(()=>{const x={top:E,transform:v};return Object.assign(x,g),x},[E,v,g]),F=l&&P&&P.componentFromFramework,T=!l&&b!=null,K=t.useMemo(()=>!!((P==null?void 0:P.componentFromFramework)&&fe(P.componentClass)),[P]),G=t.useRef(!1);t.useEffect(()=>{G.current=K&&!!P&&!!r.get("reactiveCustomComponents")},[K,P]);const N=()=>b==null?void 0:b.map(x=>o.createElement(rs,{cellCtrl:x,editingRow:n.isEditing(),printLayout:n.isPrintLayout(),key:x.getInstanceId()})),ae=()=>{const x=P.componentClass;return o.createElement(o.Fragment,null,K&&o.createElement(x,U({},P.params)),!K&&o.createElement(x,X(U({},P.params),{ref:O})))};return o.createElement("div",{ref:_,role:"row",style:D,"row-index":m,"row-id":p,"row-business-key":S,tabIndex:c},T&&N(),F&&ae())},os=t.memo(ns),as=e=>{const{context:s}=t.useContext(Q),{name:r}=e,n=t.useMemo(()=>ot(r),[r]),a=t.useRef(null),c=t.useRef(null),u=t.useRef([]),l=t.useRef([]),[i,m]=t.useState(()=>[]),d=t.useRef(!1),p=t.useRef(),R=t.useMemo(()=>_e.getRowContainerCssClasses(r),[r]),S=t.useMemo(()=>oe(R.viewport),[R]),y=t.useMemo(()=>oe(R.container),[R]),g=r===L.CENTER||r===L.TOP_CENTER||r===L.BOTTOM_CENTER||r===L.STICKY_TOP_CENTER||r===L.STICKY_BOTTOM_CENTER,C=g?a:c;me(" AG Row Container "+r+" ",C);const h=t.useCallback(()=>g?a.current!=null&&c.current!=null:c.current!=null,[]),f=t.useCallback(()=>g?a.current==null&&c.current==null:c.current==null,[]),b=t.useCallback(()=>{if(f()&&(s.destroyBean(p.current),p.current=null),h()){const E=v=>{const I=Te(l.current,u.current,d.current);I!==l.current&&(l.current=I,Oe(v,()=>m(I)))},W={setViewportHeight:v=>{a.current&&(a.current.style.height=v)},setRowCtrls:({rowCtrls:v,useFlushSync:I})=>{const k=!!I&&u.current.length>0&&v.length>0;u.current=v,E(k)},setDomOrder:v=>{d.current!=v&&(d.current=v,E(!1))},setContainerWidth:v=>{c.current&&(c.current.style.width=v)}};p.current=s.createBean(new _e(r)),p.current.setComp(W,c.current,a.current)}},[h,f]),w=t.useCallback(E=>{c.current=E,b()},[b]),P=t.useCallback(E=>{a.current=E,b()},[b]),B=()=>o.createElement("div",{className:y,ref:w,role:"rowgroup"},i.map(E=>o.createElement(os,{rowCtrl:E,containerType:n,key:E.getInstanceId()})));return o.createElement(o.Fragment,null,g?o.createElement("div",{className:S,ref:P,role:"presentation"},B()):B())},ls=t.memo(as),cs=()=>{const{context:e,agStackComponentsRegistry:s,resizeObserverService:r}=t.useContext(Q),[n,a]=t.useState(""),[c,u]=t.useState(0),[l,i]=t.useState(0),[m,d]=t.useState("0px"),[p,R]=t.useState("0px"),[S,y]=t.useState("100%"),[g,C]=t.useState("0px"),[h,f]=t.useState("0px"),[b,w]=t.useState("100%"),[P,B]=t.useState(""),[E,W]=t.useState(""),[v,I]=t.useState(null),[k,O]=t.useState(""),[M,V]=t.useState(null),[H,j]=t.useState("ag-layout-normal");let _=t.useRef();_.current||(_.current=new Ee(()=>D.current));const D=t.useRef(null),F=t.useRef(null),T=t.useRef(null),K=t.useRef(null),G=t.useRef(null),N=t.useRef(null),ae=t.useRef(null),x=t.useRef([]),ee=t.useRef([]);me(" AG Grid Body ",D),me(" AG Pinned Top ",F),me(" AG Sticky Top ",T),me(" AG Middle ",N),me(" AG Pinned Bottom ",ae);const q=t.useCallback(he=>{if(D.current=he,!D.current){e.destroyBeans(x.current),ee.current.forEach(Z=>Z()),x.current=[],ee.current=[];return}if(!e)return;const Re=Z=>{const le=s.getComponentClass(Z),Be=e.createBean(new le);return x.current.push(Be),Be},ue=(Z,le)=>{Z.appendChild(le),ee.current.push(()=>Z.removeChild(le))};ue(D.current,document.createComment(" AG Fake Horizontal Scroll ")),ue(D.current,Re("AG-FAKE-HORIZONTAL-SCROLL").getGui()),ue(D.current,document.createComment(" AG Overlay Wrapper ")),ue(D.current,Re("AG-OVERLAY-WRAPPER").getGui()),G.current&&(ue(G.current,document.createComment(" AG Fake Vertical Scroll ")),ue(G.current,Re("AG-FAKE-VERTICAL-SCROLL").getGui()));const Pe={setRowAnimationCssOnBodyViewport:a,setColumnCount:Z=>{D.current&&se.setAriaColCount(D.current,Z)},setRowCount:Z=>{D.current&&se.setAriaRowCount(D.current,Z)},setTopHeight:u,setBottomHeight:i,setStickyTopHeight:d,setStickyTopTop:R,setStickyTopWidth:y,setTopDisplay:B,setBottomDisplay:W,setColumnMovingCss:(Z,le)=>_.current.addOrRemoveCssClass(Z,le),updateLayoutClasses:j,setAlwaysVerticalScrollClass:I,setPinnedTopBottomOverflowY:O,setCellSelectableCss:(Z,le)=>V(le?Z:null),setBodyViewportWidth:Z=>{N.current&&(N.current.style.width=Z)},registerBodyViewportResizeListener:Z=>{if(N.current){const le=r.observeResize(N.current,Z);ee.current.push(()=>le())}},setStickyBottomHeight:C,setStickyBottomBottom:f,setStickyBottomWidth:w},Ae=e.createBean(new at);x.current.push(Ae),Ae.setComp(Pe,D.current,N.current,F.current,ae.current,T.current,K.current)},[]),ce=t.useMemo(()=>oe("ag-root","ag-unselectable",H),[H]),Ce=t.useMemo(()=>oe("ag-body-viewport",n,H,v,M),[n,H,v,M]),ye=t.useMemo(()=>oe("ag-body",H),[H]),z=t.useMemo(()=>oe("ag-floating-top",M),[M]),$=t.useMemo(()=>oe("ag-sticky-top",M),[M]),Y=t.useMemo(()=>oe("ag-sticky-bottom",M),[M]),A=t.useMemo(()=>oe("ag-floating-bottom",M),[M]),J=t.useMemo(()=>({height:c,minHeight:c,display:P,overflowY:k}),[c,P,k]),re=t.useMemo(()=>({height:m,top:p,width:S}),[m,p,S]),ne=t.useMemo(()=>({height:g,bottom:h,width:b}),[g,h,b]),pe=t.useMemo(()=>({height:l,minHeight:l,display:E,overflowY:k}),[l,E,k]),Se=he=>o.createElement(ls,{name:he,key:`${he}-container`}),ge=({section:he,children:Re,className:ue,style:Pe})=>o.createElement("div",{ref:he,className:ue,role:"presentation",style:Pe},Re.map(Se));return o.createElement("div",{ref:q,className:ce,role:"treegrid"},o.createElement(Kt,null),ge({section:F,className:z,style:J,children:[L.TOP_LEFT,L.TOP_CENTER,L.TOP_RIGHT,L.TOP_FULL_WIDTH]}),o.createElement("div",{className:ye,ref:G,role:"presentation"},ge({section:N,className:Ce,children:[L.LEFT,L.CENTER,L.RIGHT,L.FULL_WIDTH]})),ge({section:T,className:$,style:re,children:[L.STICKY_TOP_LEFT,L.STICKY_TOP_CENTER,L.STICKY_TOP_RIGHT,L.STICKY_TOP_FULL_WIDTH]}),ge({section:K,className:Y,style:ne,children:[L.STICKY_BOTTOM_LEFT,L.STICKY_BOTTOM_CENTER,L.STICKY_BOTTOM_RIGHT,L.STICKY_BOTTOM_FULL_WIDTH]}),ge({section:ae,className:A,style:pe,children:[L.BOTTOM_LEFT,L.BOTTOM_CENTER,L.BOTTOM_RIGHT,L.BOTTOM_FULL_WIDTH]}))},is=t.memo(cs),us=(e,s)=>{const{children:r,eFocusableElement:n,onTabKeyDown:a,gridCtrl:c,forceFocusOutWhenTabGuardsAreEmpty:u}=e,{context:l}=t.useContext(Q),i=t.useRef(null),m=t.useRef(null),d=t.useRef(),p=C=>{const h=C==null?void 0:parseInt(C,10).toString();[i,m].forEach(f=>{var b,w;h===void 0?(b=f.current)==null||b.removeAttribute("tabindex"):(w=f.current)==null||w.setAttribute("tabindex",h)})};t.useImperativeHandle(s,()=>({forceFocusOutOfContainer(C){var h;(h=d.current)==null||h.forceFocusOutOfContainer(C)}}));const R=t.useCallback(()=>{if(!i.current&&!m.current){l.destroyBean(d.current),d.current=null;return}if(i.current&&m.current){const C={setTabIndex:p};d.current=l.createBean(new lt({comp:C,eTopGuard:i.current,eBottomGuard:m.current,eFocusableElement:n,onTabKeyDown:a,forceFocusOutWhenTabGuardsAreEmpty:u,focusInnerElement:h=>c.focusInnerElement(h)}))}},[]),S=t.useCallback(C=>{i.current=C,R()},[R]),y=t.useCallback(C=>{m.current=C,R()},[R]),g=C=>{const h=C==="top"?be.TAB_GUARD_TOP:be.TAB_GUARD_BOTTOM;return o.createElement("div",{className:`${be.TAB_GUARD} ${h}`,role:"presentation",ref:C==="top"?S:y})};return o.createElement(o.Fragment,null,g("top"),r,g("bottom"))},ds=t.forwardRef(us),ps=t.memo(ds),ms=({context:e})=>{const[s,r]=t.useState(""),[n,a]=t.useState(""),[c,u]=t.useState(""),[l,i]=t.useState(null),[m,d]=t.useState(null),[p,R]=t.useState(!1),[S,y]=t.useState(),g=t.useRef(null),C=t.useRef(null),h=t.useRef(),[f,b]=t.useState(null),w=t.useRef(()=>{}),P=t.useCallback(()=>{},[]),B=t.useMemo(()=>e.isDestroyed()?null:e.getBean("beans"),[e]);me(" AG Grid ",C);const E=t.useCallback(O=>{if(C.current=O,!C.current){e.destroyBean(g.current),g.current=null;return}if(e.isDestroyed())return;g.current=e.createBean(new ct);const M=g.current;w.current=M.focusInnerElement.bind(M);const V={destroyGridUi:()=>{},setRtlClass:r,forceFocusOutOfContainer:H=>{var j;(j=h.current)==null||j.forceFocusOutOfContainer(H)},updateLayoutClasses:u,getFocusableContainers:()=>{var H,j;const _=[],D=(H=C.current)==null?void 0:H.querySelector(".ag-root"),F=(j=C.current)==null?void 0:j.querySelector(".ag-side-bar:not(.ag-hidden)");return D&&_.push(D),F&&_.push(F),_},setCursor:i,setUserSelect:d};M.setComp(V,C.current,C.current),R(!0)},[]);t.useEffect(()=>{if(!S||!B||!g.current||!f||!C.current)return;const O=g.current,M=[],{agStackComponentsRegistry:V}=B,H=V.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),j=V.getComponentClass("AG-SIDE-BAR"),_=V.getComponentClass("AG-STATUS-BAR"),D=V.getComponentClass("AG-WATERMARK"),F=V.getComponentClass("AG-PAGINATION"),T=[],K=C.current;if(O.showDropZones()&&H){const G=e.createBean(new H),N=G.getGui();K.insertAdjacentElement("afterbegin",N),T.push(N),M.push(G)}if(O.showSideBar()&&j){const G=e.createBean(new j),N=G.getGui(),ae=f.querySelector(".ag-tab-guard-bottom");ae&&(ae.insertAdjacentElement("beforebegin",N),T.push(N)),M.push(G)}if(O.showStatusBar()&&_){const G=e.createBean(new _),N=G.getGui();K.insertAdjacentElement("beforeend",N),T.push(N),M.push(G)}if(F){const G=e.createBean(new F),N=G.getGui();K.insertAdjacentElement("beforeend",N),T.push(N),M.push(G)}if(O.showWatermark()&&D){const G=e.createBean(new D),N=G.getGui();K.insertAdjacentElement("beforeend",N),T.push(N),M.push(G)}return()=>{e.destroyBeans(M),T.forEach(G=>{G.parentElement&&G.parentElement.removeChild(G)})}},[S,f,B]);const W=t.useMemo(()=>oe("ag-root-wrapper",s,n,c),[s,n,c]),v=t.useMemo(()=>oe("ag-root-wrapper-body","ag-focus-managed",c),[c]),I=t.useMemo(()=>({userSelect:m??"",WebkitUserSelect:m??"",cursor:l??""}),[m,l]),k=t.useCallback(O=>{h.current=O,y(O!==null)},[]);return o.createElement("div",{ref:E,className:W,style:I,role:"presentation"},o.createElement("div",{className:v,ref:b,role:"presentation"},p&&f&&B&&o.createElement(Q.Provider,{value:B},o.createElement(ps,{ref:k,eFocusableElement:f,onTabKeyDown:P,gridCtrl:g.current,forceFocusOutWhenTabGuardsAreEmpty:!0},o.createElement(is,null)))))},Cs=t.memo(ms),Qe=e=>{var s,r;const n=t.useRef(),a=t.useRef(null),c=t.useRef(null),u=t.useRef([]),l=t.useRef([]),i=t.useRef(e),m=t.useRef(!1),[d,p]=t.useState(void 0),[,R]=t.useState(0),S=t.useCallback(C=>{if(a.current=C,!a.current){u.current.forEach(E=>E()),u.current.length=0;return}const h=e.modules||[];c.current||(c.current=new Tt(()=>R(E=>E+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),u.current.push(()=>{var E;(E=c.current)==null||E.destroy(),c.current=null}));const f=xe.combineAttributesAndGridOptions(e.gridOptions,e),b={providedBeanInstances:{frameworkComponentWrapper:new fs(c.current,!!f.reactiveCustomComponents)},modules:h,frameworkOverrides:new Rs},w=E=>{p(E),u.current.push(()=>{E.destroy()}),E.getBean(Ne.NAME).whenReady(()=>{if(E.isDestroyed())return;const v=n.current;v&&e.setGridApi&&e.setGridApi(v,new pt(v))})},P=E=>{E.getBean(Ne.NAME).whenReady(()=>{l.current.forEach(v=>v()),l.current.length=0,m.current=!0})},B=new mt;n.current=B.create(a.current,f,w,P,b)},[]),y=t.useMemo(()=>U({height:"100%"},e.containerStyle||{}),[e.containerStyle]),g=t.useCallback(C=>{m.current?C():l.current.push(C)},[]);return t.useEffect(()=>{const C=hs(i.current,e);i.current=e,g(()=>{n.current&&xe.processOnChange(C,n.current)})},[e]),o.createElement("div",{style:y,className:e.className,ref:S},d&&!d.isDestroyed()?o.createElement(Cs,{context:d}):null,(r=(s=c.current)==null?void 0:s.getPortals())!=null?r:null)};function hs(e,s){const r={};return Object.keys(s).forEach(n=>{const a=s[n];e[n]!==a&&(r[n]=a)}),r}var fs=class extends it{constructor(e,s){super(),this.parent=e,this.reactiveCustomComponents=s}createWrapper(e,s){if(this.reactiveCustomComponents){const a=(c=>{switch(c){case"filter":return St;case"floatingFilterComponent":return bt;case"dateComponent":return Et;case"loadingOverlayComponent":return Mt;case"noRowsOverlayComponent":return It;case"statusPanel":return kt;case"toolPanel":return Ot;case"menuItem":return Ft}})(s.propertyName);if(a)return new a(e,this.parent,s)}else switch(s.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":Ge();break}const r=!s.cellRenderer&&s.propertyName!=="toolPanel";return new $e(e,this.parent,s,r)}},gs=t.forwardRef((e,s)=>{const{ctrlsFactory:r,context:n,gos:a,resizeObserverService:c,clientSideRowModel:u,serverSideRowModel:l}=t.useContext(Q),[i,m]=t.useState(()=>new te),[d,p]=t.useState(()=>new te),[R,S]=t.useState(),[y,g]=t.useState(),C=t.useRef(),h=t.useRef(null),f=t.useRef(),b=t.useMemo(()=>st.__getGridRegisteredModules(e.api.getGridId()),[e]),w=t.useMemo(()=>i.toString()+" ag-details-row",[i]),P=t.useMemo(()=>d.toString()+" ag-details-grid",[d]);s&&t.useImperativeHandle(s,()=>({refresh(){var W,v;return(v=(W=C.current)==null?void 0:W.refresh())!=null?v:!1}})),e.template&&se.warnOnce("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const B=t.useCallback(W=>{if(h.current=W,!h.current){n.destroyBean(C.current),f.current&&f.current();return}const v={addOrRemoveCssClass:(k,O)=>m(M=>M.setClass(k,O)),addOrRemoveDetailGridCssClass:(k,O)=>p(M=>M.setClass(k,O)),setDetailGrid:k=>S(k),setRowData:k=>g(k),getGui:()=>h.current},I=r.getInstance("detailCellRenderer");if(I&&(n.createBean(I),I.init(v,e),C.current=I,a.get("detailRowAutoHeight"))){const k=()=>{if(h.current==null)return;const O=h.current.clientHeight;O!=null&&O>0&&setTimeout(()=>{e.node.setRowHeight(O),u?u.onRowHeightChanged():l&&l.onRowHeightChanged()},0)};f.current=c.observeResize(h.current,k),k()}},[]),E=t.useCallback((W,v)=>{var I;(I=C.current)==null||I.registerDetailWithMaster(W,v)},[]);return o.createElement("div",{className:w,ref:B},R&&o.createElement(Qe,X(U({className:P},R),{modules:b,rowData:y,setGridApi:E})))}),Rs=class extends ut{constructor(){super("react"),this.frameworkComponents={agGroupCellRenderer:Ve,agGroupRowRenderer:Ve,agDetailCellRenderer:gs},this.wrapIncoming=(e,s)=>s==="ensureVisible"?At(e):e(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const s=e.prototype;return!(s&&"getGui"in s)}},ws=class extends t.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=(e,s)=>{this.api=e,this.columnApi=s,this.apiListeners.forEach(r=>r(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return o.createElement(Qe,X(U({},this.props),{setGridApi:this.setGridApi}))}};export{ws as A};
